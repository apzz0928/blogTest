<html xmlns="http://www.w3.org/1999/xhtml"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0,
 	maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>AceCounter</title>
    <link href="https://mbr.acecounter.com/main.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="https://mbr.acecounter.com/common.js"></script>
    <script type="text/javascript" src="https://mbr.acecounter.com/code-snippet.min.js"></script>
	<script type="text/javascript" src="https://mbr.acecounter.com/app-loader.js"></script>
    <script type="text/javascript">
		window.history.forward(1);
		
		// Common Scheme URI
	    var schemeUri = 'ACE100341://open?tk=15149310&gsck=1604891191198761532';
	   
	    //DownLoad URI
	    var appleAppStoreUri = 'https://itunes.apple.com/app/id378458261';
		var androidMarketUri = 'https://play.google.com/store/apps/details?id=com.acecounter.android.acetmtest';
	   	
	   	// Android Intent URI
	    var _intent = 'intent://open?tk=15149310&gsck=1604891191198761532#Intent;';
	    var _scheme = 'scheme=ACE100341;';
	    var _package = 'package=com.acecounter.android.acetmtest;';
	    var _option ='action=android.intent.action.VIEW;category=android.intent.category.BROWSABLE;';
	    var _fail_back_url = 'S.browser_fallback_url=' + encodeURIComponent(androidMarketUri)  +';';

	    var apploader = new tui.component.m.AppLoader();
	    
	    function downloadApp() {
	    	if (apploader.getOS() === 'iOS') {
	    		location.href = appleAppStoreUri;
	    		console.log("click : " +  appleAppStoreUri);
	    	} else if (apploader.getOS() === 'AndroidOS') {
	    		location.href = androidMarketUri;
	    		console.log("click : " +  androidMarketUri);
	    	} else {
	    	}
	    }
	    
	    function openApp() {
	    	if (apploader.getOS() === 'iOS') {
	    		location.href = schemeUri;
	    		console.log("click : " + apploader.getOS() +" : " +  schemeUri);
	    	} else if (apploader.getOS() === 'AndroidOS') {
	    		location.href = _intent + _scheme + 'end;';
	    		console.log("click : " + apploader.getOS() +" : " +  _intent + _scheme + 'end;');
	    	} else {
	    	}
	    }
	    
	    function _loader() {
	    	
	    	if (getCookie("mk10_77_129_79") == '' || getCookie("mk[[REMOTE_IP]") == null) {
		    	setCookie('mk10_77_129_79', 'visited', (60 * 1000))
				console.log("cookie is empty");
	    	} else {
	    		console.log("cookie is exist");
	    		return;
	    	}
	    	
	    	apploader.exec({
				ios: {
					scheme: schemeUri,
					url: appleAppStoreUri,
					useIOS9: true,
					syncToIOS9 : false
				},
				android: {
					customUriScheme : _intent + _scheme + 'end;',
					intentURIWithFailback: _intent + _scheme + _option + _package + _fail_back_url + 'end;',
					intentURI: _intent + _scheme + _option + _package + 'end;'
				},
				timerSet: {
					ios: 2000,
					android: 700
				},
				etcCallback: function() {
					console.log('#call etcCallback');
					if (apploader.getOS() === 'iOS' || apploader.getOS() === 'AndroidOS') {
						console.log(AppLoader.getUserAgent());
						console.log(AppLoader.getUserAgents().join(' '));
						console.log(AppLoader.getVersion(loader.getOS()));
						console.log(AppLoader.getVersion(loader.getUserAgent()));
					} else {
						console.log('not support in non mobile');
					}
				},
				notFoundCallback: function() {
					console.log('# call notFoundCallback : ' + apploader.getOS() );
					if (apploader.getOS() === 'iOS') {
						top.location.href = appleAppStoreUri;
					} else if (loader.getOS() === 'AndroidOS') {
						console.log('# call android is fail');
						location.href = androidMarketUri;
					} 

				}
			});
	    }
	</script>
</head>
<body onload="_loader()">
<article>
<section>
<p> 자동으로 스토어에 연결되지 않는경우<br> 아래버튼을 클릭하세요. </p>  
<p>
<a href="#" onclick="downloadApp();" class="button1" id="dwbtn">Download APP</a>
<a href="#" onclick="openApp();" class="button2" id="openbtn"> OPEN</a>
</p> 
</section>	
</article>


</body></html>